(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[928],{53176:function(e,t,r){Promise.resolve().then(r.bind(r,72602))},72602:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return ea}});var n=r(57437),s=r(2265);function a(){return(0,n.jsx)("div",{className:"py-12 mx-auto flex justify-center items-center flex-grow -m-12",children:(0,n.jsx)("i",{className:"fas fa-spinner fa-spin text-5xl"})})}var l=r(15857);let i="-1\x00-1";var o=r(62067),c=r.n(o),d=r(41709);let u=new RegExp(/^([+-]?\d+)\.*$/);function m(e){let t;if(e&&(e=e.trim(),null!==(t=u.exec(e)))){let e=new d.Z(t[1]);return{num:e,format:"int"}}}let x=new RegExp(/^([+-]?\d+)\/([+-]?\d+)$/),f=new RegExp(/^([+-]?\d+)\s+(\d+)\/(\d+)$/),h=new RegExp(/^[+-]?\d*\.(\d+)$/),p=new RegExp(/^([+-]?\d*)\.(\d*)\((\d+)\)(\.*)$/),g=new RegExp(/^([+-]?\d*)\.(\d+)(\.*)$/);function b(e,t,r){if(e&&!/^[+-]?\d*$/.test(e))throw Error("wholePart argument is invalid");if(t&&!/^\d+$/.test(t))throw Error("noRepeat argument is invalid");if(r&&!/^\d+$/.test(r))throw Error("repeat argument is invalid");e?"-"===e?e="-0":"+"===e&&(e="0"):e="0",t||(t="");let n=e.startsWith("-")?-1n:1n,s=BigInt(e+t);s=s<0n?-s:s;let a=1n;if(r){let e=BigInt(r);s=s*(a=10n**BigInt(r.length)-1n)+e}t&&(a*=10n**BigInt(t.length));let l=function(e,t){for(e=e<0n?-e:e,t=t<0n?-t:t;t;){let r=e%t;e=t,t=r}return e}(s,a);s=s*n/l,a/=l;let i=new d.Z([Number(s),Number(a)]);return i}let w=new RegExp(/^(\d+)\s*(?:r|re|rem|rema|remai|remain|remaind|remainde|remainder)\s*(\d+)$/i),j=new RegExp(/^(\d+)\s*(?:\*|\u00D7)\s*(\d+)$/),v=new Map;v.set("qr",{parseAnswer:(e,t,r)=>(function(e){let t;let r=m(e);if(r){let e=r.num.n;return{quotient:e,remainder:0}}if(null!==(t=w.exec(e))){let e=Number(t[1]),r=Number(t[2]);return{quotient:e,remainder:r,remainderPresent:!0}}})(r),formatAnswer:(e,t,r)=>r.remainderPresent?"".concat(r.quotient," rem ").concat(r.remainder):"".concat(r.quotient),getQuestionStatus:(e,t,r)=>t.quotient!==r.quotient||t.remainder!==r.remainder?{status:"wrong",reason:"wrong-answer"}:{status:"correct"}}),v.set("fac",{parseAnswer:(e,t,r)=>(function(e,t){let r;if(e){let r=t.split(",").map(e=>Number(e.trim()));for(let e of r)if(Number.isNaN(e))return;if(r.length<4||r.length%2)return;let n=r[0],s=!!r[1],a=r.slice(2);return{expected:e,targetNumber:n,moreFactors:s,factors:a}}if(null!==(r=j.exec(t))){let t=Number(r[1]),n=Number(r[2]);return{expected:e,targetNumber:0,moreFactors:!1,factors:[t,n]}}})(t,r),formatAnswer:(e,t,r)=>(function(e,t){if(!e)return"".concat(t.factors[0]," \xd7 ").concat(t.factors[1]);{let e=[];for(let r=0;r<t.factors.length;r+=2)e.push("".concat(t.factors[r]," \xd7 ").concat(t.factors[r+1]));return e.join(", ")+(t.moreFactors?", &hellip;":"")}})(t,r),getQuestionStatus:(e,t,r)=>r.factors[0]*r.factors[1]!==t.targetNumber?{status:"wrong",reason:"wrong-answer"}:1!==r.factors[0]&&1!=r.factors[1]||t.factors.includes(1)?{status:"correct"}:{status:"wrong",reason:"clumsy"}}),v.set("prequad",{parseAnswer(e,t,r){let n=r.split(/\s+|,/).map(e=>e.trim()).filter(e=>e);if(2===n.length){for(let e=0;e<n.length;e++){let t=m(n[e]);if(!t)return;n[e]=t.num.n*t.num.s}return n}},formatAnswer:(e,t,r)=>"".concat(r[0],", ").concat(r[1]),getQuestionStatus(e,t,r){let n=!0;return(t[0]*t[1]!=r[0]*r[1]&&(n=!1),t[0]+t[1]!=r[0]+r[1]&&(n=!1),n)?{status:"correct"}:{status:"wrong",reason:"wrong-answer"}}});let y="Unexpected, or Undefined",N=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"pdf";return"alg-test-".concat(c()().utc().format("YYYYMMDDHHmmss"),".").concat(e)};function k(e,t){let r=0,n=0,s=0,a=e.map((e,a)=>{let l=I(e,t[a]);return"correct"===l.status?r++:"wrong"===l.status?n++:s++,l}),l=r/e.length*100;return{correctAnswersCount:r,percentage:l,counts:[{name:"Correct",value:r},{name:"Wrong",value:n},{name:"Skipped",value:s}].filter(e=>0!==e.value),perQuestionStatus:a,wrongAnswersCount:n,skippedAnswersCount:s}}function S(e,t){let r=e.numOfQuestionsAsked+t,n=Math.floor(100*r/e.totalQuestionCount),s=["".concat(n,"% (").concat(r,"/").concat(e.totalQuestionCount,")")];return e.currentQuestionsIsLastSubset&&t===e.questions.length&&s.push("Congrats! You have correctly answered all questions in this test category."),s}function C(e,t,r){let n=A(e,t,r);if(!n)return"Parse error with: ".concat(t?e.answer:r);let s=function(e,t,r){var n;if(!r)return"";if(r.isNan)return y;if((null===(n=e.numberInputTypes)||void 0===n?void 0:n.length)===1){let n=v.get(e.numberInputTypes[0]);if(n)return n.formatAnswer(e,t,r)}return function(e){let t=e.num,r="";if("dec"===e.format||"int"===e.format){r=function(e){let t=function(e,t){t||(t=1),t<0&&(e=-e,t=-t);let r=e<0&&t>0||e>0&&t<0?-1:1;e=Math.abs(e),t=Math.abs(t);let n=[],s=new Map,a=e%t,l=(e-a)/t;for(;a&&!s.has(a);){s.set(a,n.length),a*=10;let e=a%t,r=(a-e)/t;n.push(r),a=e}let i="",o="";n.length&&(a||s.set(0,n.length),i=n.slice(0,s.get(a)).join(""),o=n.slice(s.get(a)).join(""));let c=["".concat(r<0?"-":"").concat(l),i,o];return c}(e.num.s*e.num.n,e.num.d),r=[t[0]];if((t[1]||t[2])&&r.push("."),t[1]&&r.push(t[1]),t[2])r.push("(".concat(t[2],")"));else if(e.actualDp){if(t[1].length){let n=e.actualDp-t[1].length;n>0&&r.push("0".repeat(n))}else r.push("."),r.push("0".repeat(e.actualDp))}return r.join("")}(e);let t=r.indexOf("(");-1!==t&&(r=r.substring(0,t)+"\\overline{"+r.substring(t+1,r.length-1)+"}")}else{let n=t.n,s=t.d;e.actualDenominator&&(n=(s=e.actualDenominator)*t.n/t.d);let a=t.s<0?"-":"";if("mix"===e.format){let e=n%s,t=(n-e)/s;r="".concat(a).concat(t,"\\frac{").concat(e,"}{").concat(s,"}")}else r="".concat(a,"\\frac{").concat(n,"}{").concat(s,"}")}return"\\("+r+"\\)"}(r)}(e,t,n);return t&&e.acceptNanAnswer&&!n.isNan&&(s="".concat(y,", or ").concat(s)),s}function A(e,t,r){var n;let s;let a=t?e.answer:r;if(a&&a.trim()){if("unexpected".startsWith(a.trim().toLowerCase())||"undefined".startsWith(a.trim().toLowerCase()))return{isNan:!0};if((null===(n=e.numberInputTypes)||void 0===n?void 0:n.length)===1){let r=v.get(e.numberInputTypes[0]);if(r)return r.parseAnswer(e,t,a)}return(s=m(a))||(s=function(e){let t,r,n,s;if(e){if(e=e.trim(),null!==(s=x.exec(e))){let e=Number(s[1]),a=Number(s[2]);if(!a)return;n=a,t=new d.Z(e,a),r="cfr"}else{if(null===(s=f.exec(e)))return;let a=Number(s[1]),l=Number(s[2]),i=Number(s[3]);if(!i||!a||l>=i)return;n=i,t=new d.Z(a),t=s[1].startsWith("-")?t.sub(new d.Z(l,i)):t.add(new d.Z(l,i)),r="mix"}return{format:r,num:t,actualDenominator:n}}}(a)),s||(s=function(e){let t,r,n;if(e){if(e=e.trim(),null!==(n=h.exec(e)))r=n[1].length,t=new d.Z(e);else if(null!==(n=p.exec(e))){let e=n[1],r=n[2],s=n[3];t=b(e,r,s)}else{if(null===(n=g.exec(e)))return;let r=n[1],s=n[2],a=n[3];if(a.length>1){a=s[s.length-1];let e=Math.floor(s.length/2);for(let t=e;t>1;t--){let e=s.substring(s.length-t);if(s.endsWith(e+e)){a=e,s=s.substring(0,s.length-2*t);break}}}else a="";t=b(r,s,a)}return{format:"dec",num:t,actualDp:r}}}(a)),s}}function T(e,t){if(e.isNan||"int"===e.format)return!0;let r=["cfr","dec","mix"];return(null==t?void 0:t.length)&&(r=t),!!("cfr"===e.format&&e.num.n<e.num.d&&(r.includes("mix")||r.includes("cfr")))||r.includes(e.format)}function I(e,t){var r,n,s,a,l,o;if(t===i)return{status:"skipped",reason:"skipped"};if(""===t.trim())return{status:"skipped",reason:"no-answer"};if("mcq"===e.type)return t===e.answer?{status:"correct"}:{status:"wrong",reason:"wrong-answer"};let c=A(e,!1,t);if(!c||((null===(r=e.numberInputTypes)||void 0===r?void 0:r.length)!==1||!v.get(e.numberInputTypes[0]))&&!T(c,e.numberInputTypes))return{status:"wrong",reason:"invalid-format"};if(e.acceptNanAnswer&&c.isNan)return{status:"correct"};let d=A(e,!0,e.answer);if(!d)return{status:"skipped",reason:"error"};if(d.isNan&&c.isNan)return{status:"correct"};if(d.isNan||c.isNan)return{status:"wrong",reason:"wrong-answer"};if((null===(n=e.numberInputTypes)||void 0===n?void 0:n.length)===1){let t=v.get(e.numberInputTypes[0]);if(t)return t.getQuestionStatus(e,d,c)}if(l=d.num,o=c.num,l&&o?!l.equals(o):l!==o)return{status:"wrong",reason:"wrong-answer"};let u=!1;return((null===(s=e.expectedDenominators)||void 0===s?void 0:s.length)&&!e.expectedDenominators.includes(c.actualDenominator||0)&&(u=!0),(null===(a=e.expectedDps)||void 0===a?void 0:a.length)&&!e.expectedDps.includes(c.actualDp||0)&&(u=!0),u)?{status:"wrong",reason:"clumsy"}:{status:"correct"}}var O=r(44515),q=r(61396),E=r.n(q);function F(e){let{variant:t="contained",...r}=e;return(0,n.jsx)("button",{...r,className:"\n      font-bold \n\n     ".concat("outlined"===t?"border-2 border-black text-primary-1000 focus:bg-gray-200 hover:bg-gray-200":"\n        ".concat(r.disabled?"bg-primary-300 hover:bg-primary-200":"bg-primary-500","  hover:bg-primary-300 \n        "),"\n\n      p-2 px-8 \n      \n      transition-colors \n      duration-500 \n      rounded-full \n      text-center \n      flex \n      items-center \n      \n      justify-center ").concat(r.disabled?"text-gray-500 cursor-not-allowed":""," ").concat(r.className),children:r.children})}var R=r(45253),M=r(18768),D=r(16830),Q=r(36612),P=e=>{let{text:t,onConfirm:r,onCancel:s,onClose:a,cancelButtonText:l,okText:i}=e;return(0,n.jsx)("div",{className:"fixed top-0 left-0 right-0 bottom-0 bg-gray-1000/20 backdrop-blur-sm p-4 py-8 flex flex-col  items-center",onClick:a,style:{zIndex:9999},children:(0,n.jsxs)("div",{className:"bg-white p-4 rounded-lg max-w-sm w-full mx-auto mt-",children:[(0,n.jsx)("p",{className:"text-md",children:t}),(0,n.jsxs)("div",{className:"flex justify-end mt-4",children:[s&&(0,n.jsx)(F,{className:"py-1 px-4 text-sm mr-2",variant:"outlined",onClick:s,children:l||"Cancel"}),r&&(0,n.jsx)(F,{className:"py-1 px-4 text-sm",variant:"outlined",onClick:r,children:i||"OK"})]})]})})};let B={correct:"#00C49F",wrong:"#FF8042",skipped:"#FFBB28"},Z=Math.PI/180,L=e=>{let{cx:t,cy:r,midAngle:s,innerRadius:a,outerRadius:l,name:i,value:o}=e,c=a+(l-a)*3.2,d=t+c*Math.cos(-s*Z);return(0,n.jsxs)("text",{x:d,y:r+c*Math.sin(-s*Z),fill:B[i.toLowerCase()],textAnchor:d>t?"start":"end",dominantBaseline:"central",fontSize:"0.9rem",children:[o," ",i.toLowerCase()]})};function U(e){let{title:t,questions:r,answers:a,preambles:i={},closingRemark:o,progressRemark:d,timeTaken:u,isCorrections:m}=e,{correctAnswersCount:x,percentage:f,counts:h}=(0,s.useMemo)(()=>k(r,a),[a,r]),[p,g]=(0,s.useState)(null),b=(0,s.useCallback)(async()=>{let e=await html2pdf().set({html2canvas:{scale:2,scrollY:0},filename:N(),pagebreak:{mode:["css","legacy"]}}).from(document.getElementById("export")).toPdf().output("blob");return g(e),e},[]),w=(0,s.useCallback)(async e=>{var t,r,n;let s=null!==(t=null!=e?e:p)&&void 0!==t?t:await b();if(!s)return;let a=(await (0,O.w8)(s)).split(",")[1];if(a){let e=/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,t=navigator.userAgent.toLowerCase().indexOf("CriOS")>-1||navigator.vendor.toLowerCase().indexOf("google")>-1,s=[];if(e){let e=null===(n=navigator)||void 0===n?void 0:null===(r=n.userAgent.match(/OS [\d_]+/i))||void 0===r?void 0:r[0].substr(3).split("_").map(e=>parseInt(e));Array.isArray(e)&&(s=e)}let l=N(),i="application/pdf",o=atob(a),c=o.length,d=new ArrayBuffer(c),u=new Uint8Array(d);for(let e=0;e<c;e++)u[e]=o.charCodeAt(e);let m=document.createElement("a");try{let r,n="";e&&!t&&s[0]<=12?n=r="data:application/pdf;base64,"+a:(e&&!t&&(i="application/octet-stream"),r=new Blob([u],{type:i}),n=window.URL.createObjectURL(r)),m.setAttribute("href",n),m.setAttribute("target","_blank"),(e&&(s[0]>12||t)||!e)&&m.setAttribute("download",l);let o=new MouseEvent("click",{view:window,bubbles:!0,cancelable:!1});m.dispatchEvent(o)}catch(e){console.log(e)}}},[b,p]);(0,s.useEffect)(()=>{setTimeout(()=>{b()},500)},[]);let j=(0,s.useMemo)(()=>c()().utc().format("DD MMM YYYY hh:mm a [GMT]"),[]),[v,y]=(0,s.useState)(""),S=async()=>{if(y(""),!navigator.share){y("Sorry, sharing is not supported on this browser! Please download the file and share manually instead.");return}let e=null;if(p&&(e=new File([p],N(),{type:p.type})),!e||!navigator.canShare({files:[e]})){y("This browser may be preventing the sharing, so you may have to download and share manually, or retry sharing in a different browser.");return}try{await navigator.share({files:[e]})}catch(e){if("AbortError"===e.name)return;y("Sorry, there was a problem sharing this file on your browser. Please download and share manually instead.")}},A=e=>{let{isExportView:t=!1}=e;return(0,n.jsx)("div",{className:"flex flex-col justify-center items-center mx-4 ".concat(t?"w-full":""),children:r.map((e,s)=>{var o;let{status:c,reason:d}=I(e,a[s]);return(0,n.jsxs)("div",{className:"".concat(t?"max-w-lg w-full":"max-w-xs"," w-full border rounded-lg mx-4 mb-4 p-4 ").concat("correct"===c?"bg-green-100 border-green-600":"wrong"===c?"bg-red-100 border-red-800":"bg-yellow-50 border-yellow-800"),children:[(0,n.jsxs)("h6",{className:"text-xs text-gray-600 text-center",children:["Question ",s+1," of ",r.length]}),e.preamble&&i[e.preamble]&&(0,n.jsx)("div",{className:"text-center text-md mt-4",children:(0,n.jsx)(l.Z,{snippet:i[e.preamble]})}),(0,n.jsx)("h1",{className:"text-md my-4 text-center",children:(0,n.jsx)(l.Z,{snippet:e.question})}),"mcq"===e.type?(0,n.jsx)(n.Fragment,{children:null===(o=e.choices)||void 0===o?void 0:o.map((r,i)=>(0,n.jsxs)("button",{className:"flex justify-center items-center relative max-w-".concat(t?"md":"xs"," mx-auto border rounded w-full mb-2 p-1 border-gray-500 transition-colors duration-200 ").concat(e.answer=="".concat(i)&&"correct"===c?"text-black bg-green-200":"wrong"===c&&a[s]=="".concat(i)?"text-black bg-red-200":""),children:[(0,n.jsx)(l.Z,{snippet:r}),(0,n.jsx)("span",{className:"absolute right-4",children:e.answer=="".concat(i)?(0,n.jsx)("i",{className:"fas fa-check text-green-600"}):"wrong"===c&&a[s]=="".concat(i)?(0,n.jsx)("i",{className:"fas fa-times text-red-600"}):null})]},i))}):(0,n.jsxs)("div",{className:"flex flex-col space-y-4 border-t ".concat("correct"===c?"border-green-200":"wrong"===c?"border-red-200":"border-yellow-800/10"," pt-4"),children:["correct"!==c&&(0,n.jsxs)("div",{className:"flex flex-col justify-center",children:[(0,n.jsx)("p",{className:"text-xs",children:"Correct Answer:"}),(0,n.jsx)("p",{className:"text-xl font-bold",children:(0,n.jsx)(l.Z,{snippet:C(e,!0)})})]}),(0,n.jsxs)("div",{className:"flex flex-col",children:[(0,n.jsx)("p",{className:"text-xs",children:"Your Answer:"}),(0,n.jsx)("p",{className:"text-xl",children:"skipped"===c?null:"wrong"===c&&"invalid-format"===d?a[s]:(0,n.jsx)(l.Z,{snippet:C(e,!1,a[s])})}),(0,n.jsxs)("h6",{className:"text-xs font-bold ".concat("correct"===c?"text-green-800":"wrong"===c?"text-red-900":"text-yellow-800"," capitalize"),children:["correct"===c?(0,n.jsx)("i",{className:"fas fa-check"}):"wrong"===c?(0,n.jsx)("i",{className:"fas fa-times"}):"skipped"===c?(0,n.jsx)("i",{className:"fas fa-question mr-1"}):null,(0,n.jsx)("span",{className:"ml-1",children:function(e,t){if("skipped"===e){if("no-answer"===t)return"unanswered";if("error"===t)return"Error in Question"}if("wrong"===e){if("invalid-format"===t)return"Invalid Input";if("clumsy"===t)return"Clumsy Input"}return e}(c,d)})]})]})]})]},s)})})};return(0,n.jsxs)("div",{className:"p-2 my-2",children:[(0,n.jsxs)("div",{className:"my-6 max-w-sm px-4 overflow-hidden w-full mx-auto",children:[(0,n.jsxs)(F,{onClick:()=>window.location.reload(),variant:"outlined",className:"w-full mt-4 text-sm",children:[(0,n.jsx)("i",{className:"fas fa-redo mr-2"}),"Try Again"]}),(0,n.jsx)(E(),{href:"/tests",children:(0,n.jsxs)(F,{className:"w-full mt-4 text-sm",children:[(0,n.jsx)("i",{className:"fas fa-arrow-left mr-2"}),"Back to All Tests"]})})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{className:"flex flex-col max-w-xs mx-auto justify-center items-center ",children:(0,n.jsx)(R.h,{minWidth:150,minHeight:300,className:"p-1 mb-2 mx-auto",children:(0,n.jsxs)(M.u,{children:[(0,n.jsx)(D.b,{animationDuration:1e3,data:h,innerRadius:65,outerRadius:75,fill:"#8884d8",paddingAngle:2,dataKey:"value",label:L,children:h.map((e,t)=>(0,n.jsx)(Q.b,{fill:B[e.name.toLowerCase()]},"cell-".concat(t)))}),(0,n.jsxs)("text",{x:"50%",y:"118px",textAnchor:"middle",dominantBaseline:"middle",className:"font-bold text-2xl",children:[f.toFixed(0),"%"]}),(0,n.jsx)("text",{x:"50%",y:"151px",textAnchor:"middle",dominantBaseline:"middle",className:"text-sm text-gray-400 text-center",children:"Your Score"}),(0,n.jsxs)("text",{x:"50%",y:"181px",textAnchor:"middle",dominantBaseline:"middle",className:"text-md font-bold",children:[x," / ",r.length]})]})})}),(0,n.jsxs)("div",{className:"mx-4 mb-4",children:[(0,n.jsxs)("p",{children:["Test Name: ",(0,n.jsx)("span",{className:"font-bold",children:t})]}),(0,n.jsxs)("p",{children:["Is Corrections: ",(0,n.jsx)("span",{className:"font-bold",children:m?"Yes":"No"})]}),(0,n.jsxs)("p",{children:["Time Taken: ",(0,n.jsx)("span",{className:"font-bold",children:u})]}),(0,n.jsxs)("p",{children:["Progress: ",(0,n.jsx)("span",{className:"font-bold",children:d[0]})]})]}),d[1]&&(0,n.jsx)("p",{className:" mx-4 mb-4 font-bold border rounded-md p-4 bg-primary-100 border-primary-600 flex items-center space-x-4",children:(0,n.jsx)(l.Z,{snippet:d[1]})}),o&&(0,n.jsx)("p",{className:" mx-4 mb-4 font-bold border rounded-md p-4 bg-primary-100 border-primary-600 flex items-center space-x-4",children:(0,n.jsx)(l.Z,{snippet:o})}),(0,n.jsx)(A,{isExportView:!1})]}),(0,n.jsxs)("div",{className:"my-6 max-w-sm px-4 overflow-hidden w-full mx-auto",children:[(0,n.jsxs)("div",{className:"flex space-x-2",children:[(0,n.jsxs)("button",{onClick:()=>w(),className:"text-sm border-2 font-bold border-black rounded-full py-2 flex-grow",children:[(0,n.jsx)("i",{className:"fas fa-download mr-1"}),"Download"]}),(0,n.jsxs)("button",{onClick:S,className:"text-sm border-2 font-bold border-black rounded-full py-2 flex-grow",children:[(0,n.jsx)("i",{className:"fas fa-share mr-2"}),"Share"]})]}),(0,n.jsxs)(F,{onClick:()=>window.location.reload(),variant:"outlined",className:"w-full mt-4 text-sm",children:[(0,n.jsx)("i",{className:"fas fa-redo mr-2"}),"Try Again"]}),(0,n.jsx)(E(),{href:"/tests",children:(0,n.jsxs)(F,{className:"w-full mt-4 text-sm",children:[(0,n.jsx)("i",{className:"fas fa-arrow-left mr-2"}),"Back to All Tests"]})})]}),(0,n.jsx)("div",{className:"overflow-hidden max-h-0 min-w-0 px-4 w-full",children:(0,n.jsx)("div",{id:"export",className:"mx-auto w-full ",children:(0,n.jsxs)("div",{className:"flex flex-col justify-center items-center m-4 p-4 w-full",children:[(0,n.jsx)("h3",{className:"text-2xl font-bold",children:t}),(0,n.jsx)("h6",{className:"text-sm mb-4 px-16 mx-2",children:j}),(0,n.jsx)(R.h,{height:350,width:350,children:(0,n.jsxs)(M.u,{children:[(0,n.jsx)(D.b,{animationDuration:0,isAnimationActive:!1,data:h,innerRadius:70,outerRadius:80,fill:"#8884d8",paddingAngle:2,dataKey:"value",label:L,children:h.map((e,t)=>(0,n.jsx)(Q.b,{fill:B[e.name.toLowerCase()]},"cell-".concat(t)))}),(0,n.jsxs)("text",{x:"50%",y:"42%",textAnchor:"middle",dominantBaseline:"middle",className:"font-bold text-3xl",children:[f.toFixed(0),"%"]}),(0,n.jsx)("text",{x:"50%",y:"52%",textAnchor:"middle",dominantBaseline:"middle",className:"text-sm text-gray-400 text-center",children:"Your Score"}),(0,n.jsxs)("text",{x:"50%",y:"61%",textAnchor:"middle",dominantBaseline:"middle",className:"text-md font-bold",children:[x," / ",r.length]})]})}),(0,n.jsxs)("div",{className:"mx-4 mb-4",children:[(0,n.jsxs)("p",{children:["Is Corrections: ",(0,n.jsx)("span",{className:"font-bold",children:m?"Yes":"No"})]}),(0,n.jsxs)("p",{children:["Time Taken: ",(0,n.jsx)("span",{className:"font-bold",children:u})]}),(0,n.jsxs)("p",{children:["Progress: ",(0,n.jsx)("span",{className:"font-bold",children:d[0]})]})]}),d[1]&&(0,n.jsx)("p",{className:" mx-4 mb-4 font-bold border rounded-md p-4 bg-primary-100 border-primary-600 flex items-center space-x-4",children:(0,n.jsx)(l.Z,{snippet:d[1]})}),o&&(0,n.jsx)("p",{className:" mx-4 mb-4 font-bold border rounded-md p-4 bg-primary-100 border-primary-600 flex items-center space-x-4",children:(0,n.jsx)(l.Z,{snippet:o})}),(0,n.jsx)(A,{isExportView:!0})]})})}),v&&(0,n.jsx)(P,{onConfirm:()=>y(""),onClose:()=>y(""),text:v})]})}let Y=(0,s.forwardRef)((e,t)=>(0,n.jsx)("input",{ref:t,...e,className:"w-full focus:ring-primary-500 rounded-md p-4 border "}));Y.displayName="Input";var W=r(62597),_=r(48254),z=r(64011);function J(e){var t;let{question:r,preambles:a={},timeLimit:o,onSubmitAnswer:c,isLastQuestion:d}=e,[u,m]=(0,s.useState)(!1),x=(0,_.q)(0,{duration:600}),f=(0,_.q)(.7,{duration:600}),[h,p]=(0,s.useState)(-1),[g,b]=(0,s.useState)(""),[w,j]=(0,s.useState)(o),y=(0,s.useRef)(null),[N,k]=(0,s.useState)(!1),S=()=>{k(!0),setTimeout(()=>{k(!1)},100)},C=(0,s.useMemo)(()=>(function(e,t){var r;if("mcq"===e.type||""===t)return"";let n=A(e,!1,t);return n?(null===(r=e.numberInputTypes)||void 0===r?void 0:r.length)===1&&v.get(e.numberInputTypes[0])?"":T(n,e.numberInputTypes)?"":"Please enter an answer in ".concat(function(e){if(!e||!e.length||e.includes("cfr")&&e.includes("mix")&&e.includes("dec"))return"expected";if(!(e.includes("cfr")||e.includes("mix")||e.includes("dec")||e.includes("int")))return"unexpected";let t=[];return e.includes("cfr")&&e.includes("mix")?t.push("fraction"):(e.includes("cfr")&&t.push("proper/improper fraction"),e.includes("mix")&&t.push("mixed/proper fraction")),e.includes("dec")&&t.push("decimal expansion"),!t.length&&e.includes("int")&&t.push("integer"),t.join(" or ")}(e.numberInputTypes)," format!"):"Please enter a valid input!"})(r,g),[g,r.numberInputTypes,r.type]),I=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=g;"mcq"===r.type&&(t=-1===h?"":h.toString()),c(t,e),j(o),p(-1),b(""),S()},O=()=>{c(i,!1),j(o),p(-1),b(""),S()},q=(e,t)=>{x.set(0),f.set(.7),setTimeout(()=>{"skip"===e?O():I(t)},300)};return(0,s.useEffect)(()=>{w<=0&&q("submit",d)},[w]),(0,s.useEffect)(()=>{if(u){var e;null===(e=y.current)||void 0===e||e.focus()}},[u]),(0,s.useEffect)(()=>{x.set(1),f.set(1);let e=setInterval(()=>{j(t=>t<=0?(clearInterval(e),0):t-1)},1e3);return()=>clearInterval(e)},[r]),(0,n.jsxs)(z.E.div,{className:"flex flex-col mt-4 items-center px-6 space-y-6",style:{opacity:x,scale:f},children:[(0,n.jsxs)("div",{className:"h-2 bg-gray-200 rounded-full mb-4 max-w-xs w-full",children:[(0,n.jsx)("div",{className:"min-h-full bg-primary-500 rounded-full w-full",style:N?{width:"".concat(w/o*100,"%")}:{width:"".concat(w/o*100,"%"),transitionProperty:"width",transitionDuration:"".concat(1e3,"ms"),transitionTimingFunction:"linear"}}),(0,n.jsxs)("h6",{className:"text-[0.8rem] text-center text-gray-500",children:[w.toFixed(0)," seconds remaining"]})]}),r.preamble&&a[r.preamble]&&(0,n.jsx)("div",{className:"bg-yellow-50 border border-gray-500 p-4 rounded-lg",children:(0,n.jsx)(l.Z,{snippet:a[r.preamble]})}),(0,n.jsx)("h1",{className:"text-center",children:(0,n.jsx)(l.Z,{snippet:r.question})}),"mcq"===r.type?(0,n.jsx)("div",{className:"flex flex-col w-full",children:null===(t=r.choices)||void 0===t?void 0:t.map((e,t)=>(0,n.jsx)("button",{className:"max-w-xs mx-auto border rounded w-full mb-4 p-2 border-gray-400 transition-colors duration-200 ".concat(h===t?"bg-primary-500":"bg-white"),onClick:()=>p(t),children:(0,n.jsx)(l.Z,{snippet:e})},e.toString()))}):(0,n.jsxs)("form",{onSubmit:e=>{e.preventDefault(),("mcq"===r.type?-1!==h:""!==g&&""===C)&&q("submit",!1)},className:"max-w-xs",children:[(0,n.jsx)(Y,{placeholder:u?"Type your answer here...":void 0,value:g,onChange:e=>{e.target.value.length<=35&&b(e.target.value)},autoFocus:!0,readOnly:!u,ref:y,type:"text",maxLength:35}),(0,n.jsx)("p",{className:"text-red-500 text-sm place-self-start mt-1 ml-2 ".concat(C?"":"invisible"," "),children:C||"N/A"})]}),(0,n.jsxs)(W.Z,{className:"my-4",children:[(0,n.jsx)(F,{variant:"outlined",onClick:()=>q("skip"),children:"Skip"}),(0,n.jsx)(F,{disabled:!d&&("mcq"===r.type?-1===h:""===g||""!==C),onClick:()=>q("submit",!1),children:d?"Finish":"Next"})]}),"mcq"!==r.type&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:"flex flex-row items-center",children:[(0,n.jsx)("input",{type:"checkbox",className:"mr-2 text-lg",checked:u,onChange:e=>null==m?void 0:m(e.target.checked),id:"use-external-keyboard"}),(0,n.jsx)("label",{htmlFor:"use-external-keyboard",className:"block text-sm text-gray-700",children:"Use External Keyboard"})]}),(0,n.jsx)("div",{children:!u&&(0,n.jsx)("div",{className:"text-center max-w-prose",children:"\x00\b1234567890.+-\xd7/()RU ".split("").map(e=>{let t=e;return" "===e?t="[space]":"\x00"===e?t="[clear]":"\b"===e?t="[backspace]":"R"===e?t="[remainder]":"U"===e&&(t="[unexpected]"),(0,n.jsx)("button",{className:"font-bold bg-secondary-500 hover:bg-secondary-300 m-1 px-3 py-1 text-center ",onClick:()=>{"\x00"===e?b(""):"\b"===e?b(e=>e?e.substring(0,e.length-1):e):b(t=>{let r=e;return("R"===e?r=" rem ":"U"===e&&(r="unexpected"),t.length+r.length>35)?t:t+r})},children:t},t)})})})]})]})}function $(e){var t,r,a,i,o,d;let{title:u,data:m,onFinish:x,questionBankSource:f,resetQuestionBankStartIndex:h}=e,p=(0,s.useMemo)(()=>{h&&(0,O.FW)(f,"");let e=function(e,t,r){var n,s;if(!e.length)throw Error("received empty array");let a={testStartTime:new Date().getTime(),startFrom:(n=0,s=e.length,n||(n=0),s||(s=2147483647),Math.floor(Math.random()*(s-n))+n),corrections:[],numOfQuestionsAsked:0,lastTimeSubmitted:0,questions:[],questionIndices:[],currentQuestionsIsLastSubset:!1,totalQuestionCount:e.length,isCorrections:!1};if(r){let t=JSON.parse(r);!t||!t.lastTimeSubmitted||t.startFrom<0||t.startFrom>=e.length||!t.corrections||t.corrections.filter(t=>t<0||t>=e.length).length||t.numOfQuestionsAsked<0||t.numOfQuestionsAsked>=e.length||(a.startFrom=t.startFrom,a.numOfQuestionsAsked=t.numOfQuestionsAsked,a.corrections=t.corrections,a.lastTimeSubmitted=t.lastTimeSubmitted)}if(a.corrections.length){for(let t of a.corrections)a.questions.push(e[t]),a.questionIndices.push(t);a.isCorrections=!0}else{(!t||t<0)&&(t=10),t=Math.min(e.length-a.numOfQuestionsAsked,t);for(let r=0;r<t;r++){let t=(a.startFrom+a.numOfQuestionsAsked+r)%e.length;a.questions.push(e[t]),a.questionIndices.push(t)}}return a.numOfQuestionsAsked+a.questions.length>=e.length&&(a.currentQuestionsIsLastSubset=!0),a}(m.questions,m.randomQuestionCount,(0,O.Pd)(f));return e},[m.questions,m.randomQuestionCount,f,h]),g=p.questions,[{answers:b,currentQuestionIndex:w,isFinished:j,timerRanOut:v,timeTaken:y},A]=(0,s.useState)({isFinished:!1,timerRanOut:!1,currentQuestionIndex:0,answers:g.map(()=>""),timeTaken:""}),T=(0,s.useMemo)(()=>{let e=k(g,b);return e},[g,b]),[I]=(0,s.useState)("true"===localStorage.getItem("enableAutomaticDownload")),[q,E]=(0,s.useState)(!I),R=(0,s.useMemo)(()=>j&&!q&&!v,[j,q,v]);return(0,s.useEffect)(()=>{if(R){var e,t,r,n,s,a,l;let i=k(g,b),o=JSON.stringify({timestamp:new Date().toISOString(),title:u,timeTaken:y,isCorrections:p.isCorrections,score:"".concat(i.percentage.toFixed(0),"% (").concat(i.correctAnswersCount,"/").concat(g.length,")"),progress:S(p,T.correctAnswersCount)[0],correctAnswerCount:null!==(r=i.correctAnswersCount)&&void 0!==r?r:0,wrongAnswerCount:null!==(n=null===(e=i.counts.find(e=>"Wrong"===e.name))||void 0===e?void 0:e.value)&&void 0!==n?n:0,skippedQuestionCount:null!==(s=null===(t=i.counts.find(e=>"Skipped"===e.name))||void 0===t?void 0:t.value)&&void 0!==s?s:0,markedResults:g.map((e,t)=>{let{status:r,reason:n}=i.perQuestionStatus[t];return{question:e,userAnswerRaw:"skipped"===r?"":b[t],userAnswerHtml:"skipped"===r?"":"wrong"===r&&"invalid-format"===n?b[t]:C(e,!1,b[t]),status:r,reason:n}}),preambles:m.preambles},null,2),c=btoa(o);if(c){let e=/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,t=navigator.userAgent.toLowerCase().indexOf("CriOS")>-1||navigator.vendor.toLowerCase().indexOf("google")>-1,r=[];if(e){let e=null===(l=navigator)||void 0===l?void 0:null===(a=l.userAgent.match(/OS [\d_]+/i))||void 0===a?void 0:a[0].substring(3).split("_").map(e=>parseInt(e));Array.isArray(e)&&(r=e)}let n=N("txt"),s="text/plain",i=atob(c),o=i.length,d=new ArrayBuffer(o),u=new Uint8Array(d);for(let e=0;e<o;e++)u[e]=i.charCodeAt(e);let m=document.createElement("a");try{let a,l="";e&&!t&&r[0]<=12?l=a="data:text/plain;base64,"+c:(e&&!t&&(s="application/octet-stream"),a=new Blob([u],{type:s}),l=window.URL.createObjectURL(a)),m.setAttribute("href",l),m.setAttribute("target","_blank"),(e&&(r[0]>12||t)||!e)&&m.setAttribute("download",n);let i=new MouseEvent("click",{view:window,bubbles:!0,cancelable:!1});m.dispatchEvent(i)}catch(e){console.log(e)}}}},[R]),(0,n.jsxs)("div",{className:"flex-grow flex flex-col min-h-full",children:[m.openingRemarks&&!j&&(0,n.jsx)("p",{className:"text-md font-semibold text-center mt-4  w-fit mx-auto p-2 px-4 rounded-md",children:(0,n.jsx)(l.Z,{snippet:m.openingRemarks})}),(!j||v)&&(0,n.jsxs)("div",{className:"p-4 flex-grow flex flex-col",children:[(0,n.jsx)("h1",{className:"text-lg text-center font-bold",children:u}),(0,n.jsxs)("h1",{className:"text-sm text-center",children:["Question ",w+1," of ",g.length]}),(0,n.jsx)(J,{question:g[w],timeLimit:m.inputTimeWaitSecs||40,onSubmitAnswer:(e,t)=>{A(r=>{let n=JSON.parse(JSON.stringify({...r}));if(n.answers[n.currentQuestionIndex]=e,n.timerRanOut=t,n.currentQuestionIndex===g.length-1){n.isFinished=!0,n.timeTaken=c()(p.testStartTime).toNow(!0)+" ("+((new Date().getTime()-p.testStartTime)/1e3).toFixed(0)+"s)";let e={startFrom:p.startFrom,lastTimeSubmitted:new Date().getTime(),numOfQuestionsAsked:p.numOfQuestionsAsked,corrections:[]},t=k(g,n.answers);for(let r=0;r<t.perQuestionStatus.length;r++)"correct"===t.perQuestionStatus[r].status?e.numOfQuestionsAsked++:e.corrections.push(p.questionIndices[r]);(0,O.FW)(f,JSON.stringify(e)),x()}else n.currentQuestionIndex++;return n})},preambles:m.preambles,isLastQuestion:w===g.length-1})]}),v&&(0,n.jsx)(P,{text:"Your time is up!",onClose:()=>A(e=>({...JSON.parse(JSON.stringify(e)),timerRanOut:!1})),onConfirm:()=>A(e=>({...JSON.parse(JSON.stringify(e)),timerRanOut:!1}))}),R&&(0,n.jsx)("div",{className:"p-4 flex-grow flex flex-col",children:T&&(0,n.jsxs)("div",{className:"flex-grow flex flex-col justify-center items-center space-y-10",children:[(0,n.jsxs)("section",{className:"w-fit",children:[(0,n.jsx)("h1",{className:"text-2xl font-bold text-center",children:u}),(0,n.jsx)("h2",{className:"text-2xl font-bold text-center",children:"Score"}),(0,n.jsxs)("h3",{className:"text-4xl/10 font-bold text-center",children:[T.correctAnswersCount," / ",g.length]}),(0,n.jsxs)("p",{className:"text-lg font-semibold text-center text-black/80",children:["(",T.percentage.toFixed(0),"%)"]}),(0,n.jsx)("table",{className:"w-full mt-4 ",children:(0,n.jsxs)("tbody",{children:[(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{className:"text-left border-0 pr-4",children:"Correct Answers:"}),(0,n.jsx)("td",{className:"text-center font-bold border-0",children:null!==(i=null===(t=T.counts.find(e=>"Correct"===e.name))||void 0===t?void 0:t.value)&&void 0!==i?i:0})]}),(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{className:"text-left border-0 pr-4",children:"Wrong Answers:"}),(0,n.jsx)("td",{className:"text-center font-bold border-0",children:null!==(o=null===(r=T.counts.find(e=>"Wrong"===e.name))||void 0===r?void 0:r.value)&&void 0!==o?o:0})]}),(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{className:"text-left border-0 pr-4",children:"Skipped Questions:"}),(0,n.jsx)("td",{className:"text-center font-bold border-0",children:null!==(d=null===(a=T.counts.find(e=>"Skipped"===e.name))||void 0===a?void 0:a.value)&&void 0!==d?d:0})]})]})})]}),(0,n.jsxs)("div",{className:"flex flex-col space-y-4",children:[(0,n.jsx)(F,{onClick:()=>E(!0),children:"See Marked Results"}),(0,n.jsxs)(F,{variant:"outlined",onClick:()=>window.location.reload(),className:"text-md py-1",children:[(0,n.jsx)("i",{className:"fas fa-redo-alt mr-2"})," Try Again"]})]})]})}),q&&j&&!v&&(0,n.jsx)(U,{title:u,preambles:m.preambles,timeTaken:y,questions:g,answers:b,closingRemark:m.closingRemarks,isCorrections:p.isCorrections,progressRemark:S(p,T.correctAnswersCount)})]})}var H=r(4943),K=r.n(H);function G(e,t){let r=e.lastIndexOf("?");if(-1===r)return e+"?page="+t;let n=e.substring(r);return n=n.replaceAll(/#|&?page=\w+/g,""),t&&(n.length>1&&(n+="&"),n+="page="+(t+1)),e.substring(0,r)+n}function V(e){let t,r,{urlStr:s,currentPageNumber:a,pageSize:l,totalItemCount:i,maxPageDisplayCount:o}=e;function c(e,t,r,s){return r?(0,n.jsx)("a",{href:e,"aria-current":"page",className:"".concat(s||""," z-10 flex items-center justify-center px-3 h-8 leading-tight text-blue-600 border border-blue-300 bg-blue-50 hover:bg-blue-100 hover:text-blue-700 dark:border-gray-700 dark:bg-gray-700 dark:text-white"),children:t}):(0,n.jsx)("a",{href:e,className:"".concat(s||""," flex items-center justify-center px-3 h-8 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white"),children:t})}function d(){return(0,n.jsx)("svg",{className:"w-2.5 h-2.5 rtl:rotate-180","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 6 10",children:(0,n.jsx)("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 1 1 5l4 4"})})}function u(){return(0,n.jsx)("svg",{className:"w-2.5 h-2.5 rtl:rotate-180","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 6 10",children:(0,n.jsx)("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"m1 9 4-4-4-4"})})}if(!l||!i)return null;a--,(!o||o<0)&&(o=3);let m=Math.ceil(i/l),x=0,f=m;f-0>o&&(a-Math.floor(o/2)<0?f=o:a+Math.ceil(o/2)>m?x=m-o:(x=a-Math.floor(o/2),f=a+Math.ceil(o/2)));let h=a>0,p=h?G(s,a-1):"",g=a+1<m,b=g?G(s,a+1):"",w=[];for(let e=x;e<f;e++){let t=G(s,e),r="";e||(r+=" rounded-s-lg"),e===m-1&&(r+=" rounded-e-lg"),w.push((0,n.jsx)("li",{children:c(t,"".concat(e+1),e===a,r)},e))}let j=null,v=null,y=null;if(x){j=(0,n.jsx)("li",{children:c(G(s,0),"1",!1,"rounded-s-lg")});let e=(0,n.jsx)("span",{children:"..."});e=(0,n.jsxs)(n.Fragment,{children:[d(),d()]}),v=(0,n.jsx)("li",{children:c(G(s,x-1),e,!1)})}if(f<m){let e=(0,n.jsx)("span",{children:"..."});e=(0,n.jsxs)(n.Fragment,{children:[u(),u()]}),y=(0,n.jsx)("li",{children:c(G(s,f),e,!1,"rounded-e-lg")})}return(0,n.jsx)("nav",{"aria-label":"Page navigation",children:(0,n.jsxs)("div",{className:"flex flex-col xl:flex-row items-center space-x-px space-y-px",children:[(t="flex items-center justify-center px-3 h-8 leading-tight text-gray-500 bg-white border border-gray-300 rounded-s-lg dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400",h&&(t+=" hover:bg-gray-100 hover:text-gray-700 dark:hover:bg-gray-700 dark:hover:text-white"),(0,n.jsxs)("a",{href:p,className:t,onClick:e=>{h||e.preventDefault()},children:[(0,n.jsx)("span",{className:"sr-only",children:"Previous"}),d()]})),(0,n.jsxs)("ul",{className:"flex items-center space-x-px space-y-px text-sm flex-wrap",children:[j,v,w,y]}),(r="flex items-center justify-center px-3 h-8 leading-tight text-gray-500 bg-white border border-gray-300 rounded-e-lg dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400",g&&(r+=" hover:bg-gray-100 hover:text-gray-700 dark:hover:bg-gray-700 dark:hover:text-white"),(0,n.jsxs)("a",{href:b,className:r,onClick:e=>{g||e.preventDefault()},children:[(0,n.jsx)("span",{className:"sr-only",children:"Next"}),u()]}))]})})}function X(e){let{title:t,currentPageFromUrl:r,pageSizeFromUrl:a,data:{questions:i,openingRemarks:o,pageSize:c}}=e,d=a;!d&&c&&(d=c),(!d||d<1)&&(d=10),r<1&&(r=1);let u=i.length,m=(r-1)*d,x=Math.min(m+d,u),f=i.slice(m,x),[h,p]=(0,s.useState)([]),g=e=>{p(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])};return(0,n.jsxs)("div",{className:"m-6 p-4 space-y-6 mx-auto",children:[(0,n.jsx)("h1",{className:"text-lg text-center font-bold",children:t}),o&&(0,n.jsx)("p",{children:(0,n.jsx)(l.Z,{snippet:o})}),(0,n.jsx)("div",{className:"flex flex-col space-y-2 justify-center items-center mx-auto",children:(0,n.jsx)(V,{urlStr:window.location.href,currentPageNumber:r,pageSize:d,totalItemCount:u})}),(0,n.jsxs)("div",{className:"flex space-x-2 justify-center items-center mx-auto",children:[(0,n.jsx)("button",{className:"text-xs px-4 w-fit border rounded-full border-black/50 font-semibold p-1 disabled:text-black/40 disabled:border-black/40 disabled:cursor-not-allowed",onClick:()=>p(K()(0,f.length)),disabled:f.length===h.length,children:"Show Answers"}),(0,n.jsx)("button",{className:"text-xs px-4 w-fit border rounded-full border-black/50 font-semibold p-1 disabled:text-black/40 disabled:border-black/40 disabled:cursor-not-allowed",onClick:()=>p([]),disabled:0===h.length,children:"Hide Answers"})]}),(0,n.jsx)("div",{children:f.map((e,t)=>(0,n.jsx)("div",{className:"p-2 px-4 w-full border ".concat(0===t?"rounded-t-md":"border-t-0"," border-black/20 border-b-").concat(t===f.length-1?"1 rounded-b-md":"0"),children:(0,n.jsxs)("div",{className:"mb-2 flex flex-grow space-x-2",children:[(0,n.jsxs)("span",{className:"font-bold",children:[m+t+1,"."]}),(0,n.jsxs)("div",{className:"flex flex-col flex-y-4 flex-grow",children:[(0,n.jsx)("div",{className:"text-md text-black",children:(0,n.jsx)(l.Z,{snippet:e.question+function(e){if(!(null==e?void 0:e.length))return"";let t=[];for(let r=0;r<e.length;r++){let n="".concat(r+1);r<5&&(n=String.fromCharCode(65+r)),t.push(n+". "+e[r])}return"<div class='my-1'>"+t.join("\\(\\quad\\) ")+"</div>"}(e.choices)})}),(0,n.jsx)("div",{children:(0,n.jsx)("button",{onClick:()=>g(t),className:"text-sm p-0 px-4 w-fit border rounded-xl border-gray-600 ".concat(h.includes(t)?"bg-gray-100 ":""),children:h.includes(t)?"Hide answer":"Show answer"})}),h.includes(t)?(0,n.jsxs)("div",{className:"text-md border rounded-lg bg-yellow-50 border-yellow-800 space-x-2 py-3 mb-4 mt-2 p-3",children:[(0,n.jsx)("h6",{className:"text-md ml-2 font-bold",children:"Answer:"}),(0,n.jsx)(l.Z,{snippet:function(e){if(null==e||e<0)return"";let t="".concat(e+1);return e<5&&(t=String.fromCharCode(65+e)),"<p>(".concat(t,")</p>")}(e.correctChoice)+e.answer})]}):null]})]})},m+t))}),(0,n.jsx)("div",{className:"flex flex-col space-y-2 justify-center items-center mx-auto",children:(0,n.jsx)(V,{urlStr:window.location.href,currentPageNumber:r,pageSize:d,totalItemCount:u})}),(0,n.jsx)("div",{className:"max-w-xs flex flex-col space-y-2 justify-center items-center mx-auto",children:(0,n.jsx)(E(),{href:"/tests",className:"w-full",children:(0,n.jsxs)(F,{className:"text-sm px-4 w-full",children:[(0,n.jsx)("i",{className:"fas fa-arrow-left pr-2"})," Back to All Tests"]})})})]})}var ee=r(56008),et=r(8794),er=r(24033),en=r(48475),es=r.n(en);function ea(){var e,t,r;let i=(0,er.useSearchParams)(),o=(0,er.useRouter)(),c=(0,s.useMemo)(()=>i.get("src"),[i]),d=i.get("pageSize"),u=0;d&&(u=parseInt(d));let m=i.get("page"),x=0;m&&(x=parseInt(m));let[f,h]=(0,s.useState)(),[p,g]=(0,s.useState)(""),[b,w]=(0,s.useState)(5),j=(0,s.useCallback)(()=>{let e=setInterval(()=>{w(t=>0===t?(o.push("/tests"),clearInterval(e),t):t-1)},1e3);return()=>clearInterval(e)},[o]),v=(0,s.useCallback)(e=>{g(e),j()},[j]),[y,N]=(0,s.useState)();(0,s.useEffect)(()=>{c?fetch("/questionBanks/".concat(c,".json")).then(async e=>{if(e.ok)try{var t;let r=await e.json();if(!(null===(t=r.questions)||void 0===t?void 0:t.length)){v("Sorry, something went wrong! This test has no questions!");return}let n=await fetch("/links.json").then(e=>e.json()),s=n.sections.map(e=>e.links).flat().find(e=>e.questionBankUrl===c);s&&N({title:s.title,description:s.description}),"isTheory"in r&&!0===r.isTheory&&A(!0),h(r)}catch(e){v("Something went wrong!"),console.error(e)}else 404===e.status&&v("No such test!")}):o.push("/tests")},[o,v,c]);let[k,S]=(0,s.useState)(!1),[C,A]=(0,s.useState)(!1),T=(0,s.useMemo)(()=>f&&"isTheory"in f&&!0===f.isTheory,[f]),[I,O]=(0,s.useState)(!1),[q,E]=(0,s.useState)(!1);return(0,n.jsxs)(et.Z,{config:{chtml:{displayAlign:"left"}},children:[(0,n.jsx)(es(),{src:"https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js",strategy:"afterInteractive"}),(0,n.jsxs)("div",{className:"min-h-full flex-grow flex flex-col mx-auto",children:[(0,n.jsx)(ee.default,{title:"Test",showBackButton:!C||k||T||!1,backLink:"/tests",rightComponent:!C||k||T?null:(0,n.jsxs)("button",{className:"text-sm  font-semibold  mr-2 border-2 rounded-full px-4 text-red-600 border-red-600 flex flex-row items-center",onClick:()=>O(!0),children:["Cancel Test",(0,n.jsx)("i",{className:"fas fa-times pl-2"})]})}),I&&!k&&(0,n.jsx)(P,{onConfirm:()=>{o.push("/tests")},onCancel:()=>O(!1),onClose:()=>O(!1),text:"Are you sure you want to cancel this test? Your progress will not be saved.",cancelButtonText:"Continue Test",okText:"Cancel Test"}),p?(0,n.jsxs)("div",{className:"flex flex-col items-center justify-center flex-grow px-6",children:[(0,n.jsx)("div",{children:p}),(0,n.jsxs)("div",{children:["Redirecting in ",b," seconds..."]})]}):f?(0,n.jsx)(n.Fragment,{children:C?"isTheory"in f&&!0===f.isTheory?(0,n.jsx)(X,{title:null!==(t=null!==(e=null==f?void 0:f.title)&&void 0!==e?e:null==y?void 0:y.title)&&void 0!==t?t:"",currentPageFromUrl:x,pageSizeFromUrl:u,data:f,questionBankSource:c}):"isTheory"in f?null:(0,n.jsx)($,{data:f,resetQuestionBankStartIndex:q,onFinish:()=>S(!0),questionBankSource:c,title:null!==(r=null==y?void 0:y.title)&&void 0!==r?r:""}):(0,n.jsxs)("div",{className:"flex flex-col items-center justify-center flex-grow px-6",children:[(null==y?void 0:y.title)&&(0,n.jsx)("h1",{className:"text-xl font-bold",children:y.title}),(null==y?void 0:y.description)&&(0,n.jsx)("p",{children:y.description}),f.extraDescription&&(0,n.jsx)("div",{children:(0,n.jsx)(l.Z,{snippet:f.extraDescription})}),(0,n.jsx)(F,{onClick:()=>A(!0),className:"my-8",children:"Start Test"}),(0,n.jsxs)("div",{className:"flex flex-row items-center",children:[(0,n.jsx)("input",{type:"checkbox",className:"mr-2 text-lg",checked:q,onChange:e=>null==E?void 0:E(e.target.checked),id:"reset-progress-tracking"}),(0,n.jsx)("label",{htmlFor:"reset-progress-tracking",className:"block text-sm text-gray-700",children:"Reset Records of Corrections and Progress"})]})]})}):(0,n.jsx)(a,{})]})]})}},15857:function(e,t,r){"use strict";var n=r(57437),s=r(44515),a=r(166);r(2265),t.Z=e=>{let{snippet:t}=e;return(0,n.jsx)(a.Z,{dynamic:!0,dangerouslySetInnerHTML:{__html:(0,s.sg)(t)}})}},56008:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return c}});var n=r(57437),s=r(61396),a=r.n(s),l=r(2265),i=r(14505),o=r(24033);function c(e){let{title:t,showBackButton:r=!1,backLink:s="/",rightComponent:c}=e,[d,u]=(0,l.useState)(!1),[m,x]=(0,l.useState)(!0);(0,l.useEffect)(()=>{d?x(!1):setTimeout(()=>{x(!0)},490)},[d]);let f=(0,o.useRouter)(),h=(0,o.usePathname)(),p=e=>{h!==e&&f.push(e),u(!1)};return(0,n.jsxs)("div",{className:"h-12 overflow-hidden flex flex-row space-x-2 items-center p-2 pl-5 border-b relative",children:[r&&(0,n.jsx)(a(),{href:s,className:"flex flex-col justify-center items-center",children:(0,n.jsx)("i",{className:"fas fa-arrow-left text-md"})}),(0,n.jsx)("h1",{className:"text-center font-bold  text-lg absolute top-[50%] translate-y-[-50%] translate-x-[50%] ".concat(c?"left-[0%] pl-0":"right-[50%] "),children:t}),(0,n.jsx)("div",{className:"flex-grow"}),c||(0,n.jsx)("div",{children:(0,n.jsx)(i.ZP,{toggled:d,toggle:u,label:"Show menu",size:24,hideOutline:!0,rounded:!0,color:"#000000"})}),!m&&(0,n.jsx)("div",{className:"\n          fixed \n          top-12 \n          bottom-0 \n          left-0 \n          right-0\n          w-screen\n          h-screen \n          flex \n          flex-col \n          items-center \n          py-10\n          text-black\n\n          z-50\n        ".concat(d?"fade-in":"fade-out","\n\n        "),style:{backdropFilter:"blur(30px)",backgroundColor:"rgba(255, 255, 255, 1)"},children:(0,n.jsx)("button",{onClick:()=>p("/tests"),className:"mb-4 border-2 border-black p-1 px-10 rounded-full",children:(0,n.jsxs)("span",{className:"flex items-center font-semibold",children:[(0,n.jsx)("i",{className:"fas fa-bookmark text-md mr-2"}),"All Tests"]})})})]})}},62597:function(e,t,r){"use strict";var n=r(57437);r(2265),t.Z=e=>(0,n.jsx)("div",{className:"flex flex-row justify-between items-center ".concat(e.spacing?"space-x-".concat(e.spacing):"space-x-4"," ").concat(e.className),children:e.children})},44515:function(e,t,r){"use strict";r.d(t,{w8:function(){return s},Pd:function(){return i},sg:function(){return d},FW:function(){return o}});var n=JSON.parse('{"e":[["amp",38],["lt",60],["gt",62],["nbsp",160],["iexcl",161],["cent",162],["pound",163],["curren",164],["yen",165],["brvbar",166],["sect",167],["uml",168],["copy",169],["ordf",170],["laquo",171],["not",172],["shy",173],["reg",174],["macr",175],["deg",176],["plusmn",177],["sup2",178],["sup3",179],["acute",180],["micro",181],["para",182],["middot",183],["cedil",184],["sup1",185],["ordm",186],["raquo",187],["frac14",188],["frac12",189],["frac34",190],["iquest",191],["Agrave",192],["Aacute",193],["Acirc",194],["Atilde",195],["Auml",196],["Aring",197],["AElig",198],["Ccedil",199],["Egrave",200],["Eacute",201],["Ecirc",202],["Euml",203],["Igrave",204],["Iacute",205],["Icirc",206],["Iuml",207],["ETH",208],["Ntilde",209],["Ograve",210],["Oacute",211],["Ocirc",212],["Otilde",213],["Ouml",214],["times",215],["Oslash",216],["Ugrave",217],["Uacute",218],["Ucirc",219],["Uuml",220],["Yacute",221],["THORN",222],["szlig",223],["agrave",224],["aacute",225],["acirc",226],["atilde",227],["auml",228],["aring",229],["aelig",230],["ccedil",231],["egrave",232],["eacute",233],["ecirc",234],["euml",235],["igrave",236],["iacute",237],["icirc",238],["iuml",239],["eth",240],["ntilde",241],["ograve",242],["oacute",243],["ocirc",244],["otilde",245],["ouml",246],["divide",247],["oslash",248],["ugrave",249],["uacute",250],["ucirc",251],["uuml",252],["yacute",253],["thorn",254],["yuml",255],["fnof",402],["Alpha",913],["Beta",914],["Gamma",915],["Delta",916],["Epsilon",917],["Zeta",918],["Eta",919],["Theta",920],["Iota",921],["Kappa",922],["Lambda",923],["Mu",924],["Nu",925],["Xi",926],["Omicron",927],["Pi",928],["Rho",929],["Sigma",931],["Tau",932],["Upsilon",933],["Phi",934],["Chi",935],["Psi",936],["Omega",937],["alpha",945],["beta",946],["gamma",947],["delta",948],["epsilon",949],["zeta",950],["eta",951],["theta",952],["iota",953],["kappa",954],["lambda",955],["mu",956],["nu",957],["xi",958],["omicron",959],["pi",960],["rho",961],["sigmaf",962],["sigma",963],["tau",964],["upsilon",965],["phi",966],["chi",967],["psi",968],["omega",969],["thetasym",977],["upsih",978],["piv",982]]}');let s=e=>{let t=new FileReader;return t.readAsDataURL(e),new Promise(e=>{t.onloadend=()=>{e(t.result)}})},a="questionBankIndices";function l(){let e=function(){let e=localStorage.getItem(a);return e?JSON.parse(e):{}}(),t=new Date,r=new Date(t.getTime()-2592e5).toISOString(),n={...e};for(let[t,s]of Object.entries(e))new Date(s.lastUpdated)<new Date(r)&&delete n[t];return n}function i(e){var t;let r=l();return null===(t=r[e])||void 0===t?void 0:t.index}function o(e,t){let r=l();r[e]={index:t,lastUpdated:new Date().toISOString()},localStorage.setItem(a,JSON.stringify(r))}let c=/&(?:#(\d{1,9})|#x([0-9a-fA-F]{1,7})|([^#0-9][^&;]+));/g;function d(e){let t;if(!e)return"";let r=[],s=0;for(c.lastIndex=0;null!==(t=c.exec(e));){r.push(e.substring(s,t.index));let a=t[1],l=t[2],i=t[3];if(a){let e=parseInt(a);r.push(String.fromCharCode(e))}else if(l){let e=parseInt(l,16);r.push(String.fromCharCode(e))}else{let e=n.e.find(e=>e[0]===i);if(e){let t=Number(e[1]);r.push(String.fromCharCode(t))}else r.push(t[0])}s=t.index+t[0].length}return r.length?(r.push(e.substring(s)),r.join("")):e}}},function(e){e.O(0,[990,326,274,833,971,472,744],function(){return e(e.s=53176)}),_N_E=e.O()}]);